<div class="container mt-4">
  <h2>Manage Final Exam Criteria</h2>

  <div class="card">
    <div class="card-body">
      <h5 class="card-title">{{ isEditing ? 'Edit' : 'Add' }} Criteria</h5>
      <form (ngSubmit)="addOrUpdateCriteria()">
        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="minMarks">Min Marks</label>
            <input type="number" id="minMarks" name="minMarks" class="form-control" [(ngModel)]="currentCriteria.minMarks" required>
          </div>
          <div class="form-group col-md-3">
            <label for="maxMark">Max Marks</label>
            <input type="number" id="maxMark" name="maxMark" class="form-control" [(ngModel)]="currentCriteria.maxMark" required>
          </div>
          <div class="form-group col-md-3">
            <label for="grade">Grade</label>
            <select id="grade" name="grade" class="form-control" [(ngModel)]="currentCriteria.grade" required>
              <option value="" disabled>Select a grade</option>
              <option *ngFor="let grade of grades" [value]="grade">{{ grade }}</option>
            </select>
          </div>
          <div class="form-group col-md-3 d-flex align-items-end">
            <button type="submit" class="btn btn-primary mr-2">{{ isEditing ? 'Update' : 'Add' }}</button>
            <button type="button" class="btn btn-secondary" (click)="resetForm()">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <h3 class="mt-4">Criteria List</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Min Marks</th>
        <th>Max Marks</th>
        <th>Grade</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let criteria of criteriaList">
        <td>{{ criteria.id }}</td>
        <td>{{ criteria.minMarks }}</td>
        <td>{{ criteria.maxMark }}</td>
        <td>{{ criteria.grade }}</td>
        <td>
          <button class="btn btn-sm btn-warning mr-2" (click)="editCriteria(criteria)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="deleteCriteria(criteria.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
